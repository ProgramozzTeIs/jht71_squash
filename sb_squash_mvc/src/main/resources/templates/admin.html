<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>SQUASH - ADMIN</title>
</head>
	<body>
		
		<h1>ADMIN Page</h1>
		
		
		<h2>Create a new place</h2>
		
		<form action="/admin/save/place" method="post">
		
			<label type="text">Place name</label>
			<input type="text" value="placename" name="placename"></input><br></br>
			<label type="text">Address of place</label>
 			<input type="text" value="address" name="address"></input><br></br>
 			<label type="text">Rent fee in HUF</label>
 			<input type="number" value="0" name="rentfeehuf"></input><br></br>
 			<!-- Send admin id -->
 			<input type="hidden" th:value="${adminDto.getLoggedInAdminId()}" name="adminId"></input>
			<input type="submit" value="Create place"></input>
		
		
		<!-- Repo save succeeded text -->
		<div th:if="${adminDto != null}">
			<h2 th:if="${adminDto.getCode()==1}" style="color:MediumSeaGreen;">Place has been saved to repo</h2>
			<h2 th:if="${adminDto.getCode()==2}" style="color:Tomato;">Place has NOT been saved to repo</h2>
		</div>
		<!-- Error text -->
		
		</form>
		
		<br></br>
		
		<h2>Save new match</h2>
		
		<form action ="/admin/save/match" method ="post">
			
			<h3>Place name </h3>
			
			<select name ="placeId" > 		
				<option th:each="place : ${adminDto.getPlaces()}"
						th:value="${place.getId()}"
						th:text="${place.getName()}"/>
			</select>
			<h3>First player name </h3>
			
			<select name="user1Id"> 		
				<option th:each="user1 : ${adminDto.getUsers()}"
						th:value="${user1.getId()}"
						th:text="${user1.getName()}">
			</select>
			<h3>First player points </h3>
				
				<input type="number" name="user1Points">
							
			<h3>Second player name </h3>
			
			<select name="user2Id">			
				<option th:each="user2 : ${adminDto.getUsers()}"
						th:value="${user2.getId()}"
						th:text="${user2.getName()}">
			</select>
			<h3>Second player points </h3>
				
				<input type="number" name="user2Points">
							
			<h4> Date </h4>
				
				<input type="date" name="date">
				
				<!-- Send admin id -->
				<input type="hidden" name="adminId" th:value="${adminDto.getLoggedInAdminId()}">
			<br></br>
			<input type="submit" value="Create match"></input>
				
		</form>

		<div th:if="${adminDto != null}">
			<h2 th:if="${adminDto.getCode()==1}" style="color:MediumSeaGreen;">Match has been saved to repo</h2>
			<h2 th:if="${adminDto.getCode()==2}" style="color:Tomato;">Match has NOT been saved to repo</h2>
			<h2 th:if="${adminDto.getCode()==3}" style="color:MediumSeaGreen;">Same player !!</h2>
		
		</div>
	
	

		
		<br></br>
		
		<h2>Játékos mentése</h2>
		
		<form action="/admin/save/user" method="post">
    
		    <label>Új játékos neve:</label>
		    <input type="text" name="userName" required><br><br>
		    
		    <input type="hidden" name="adminId" th:value="${adminDto.getLoggedInAdminId()}">
		    
		    <input type="submit" value="Mentés">
		    		    
		    <div th:if="${adminDto != null and adminDto.getCode() != null}">
		        <p th:if="${adminDto.getCode() == 1}">Sikeres mentés</p>
		        <p th:if="${adminDto.getCode() == 2}">Ilyen nevű játékos már van</p>
		    </div>
		    
		    <div th:if="${errorDto != null}">
    			<p th:if="${errorDto.code == 1}">Nem belépett felhasználó.</p>
			</div>
		    
		    
		</form>

	</body>
</html>