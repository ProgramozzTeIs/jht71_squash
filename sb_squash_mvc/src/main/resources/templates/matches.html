<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>SQUASH - MATCHES</title>
</head>
<body>

	<h1>MATCHES Page</h1>
	
	<p>Select Player</p>
	
	<form action="/matches/filter/user" method= "get">
	
		<select name= "name">
		
			<option th:each= " user : ${matchWrapperDto}" th:value= "${userDto.getName()}" th:text= "${userDto.getName()}"/>
		
		</select>
		
		<input type= "submit"/>
		
	</form>
	
	<p>Select Place</p>
	
	<form action="/matches/filter/place" method= "get">
	
		<select name= "place">
			
			<option th:each= "place : ${matchWrapperDto}" th:value= "${placeDto.getName()}" th:text= "${placeDto.getName()}"/>
				
		</select>
		
		<input type= "submit"/>
		
	</form>
	
	<p>Match list</p>
	
	<form action="/matches" method= "post">
		<table>
			<tr>
				<th>Match Date</th>
				<th>Place</th>
				<th>Player 1</th>
				<th>Player 1 point</th>
				<th>Player 2</th>
				<th>Player 2 point</th>
			<tr/>
			<tr th:each= "matches :${matchWrapperDto}">
				<td th:text= "${matchDto.getMatchDate()}"></td>
				<td>
					<table>
					<tr th:each= "placeDto : ${matchDto}">
						<td th:text= "${placeDto.getName()}"></td>
					</tr>
					</table>
				</td>
				<td>
					<table>
					<tr th:each= "user1Dto : ${matchDto}">
						<td th:text= "${userDto.getName()}"></td>
					</tr>
					</table>
				</td>
				<td th:text= "${matchDto.getUser1Point()}"></td>
				<td>
					<table>
					<tr th:each= "user2Dto : ${matchDto}">
						<td th:text= "${userDto.getName()}"></td>
					</tr>
					</table>
				</td>
				<td th:text= "${matchDto.getUser2Point()}"></td>
			</tr>
		
		</table>
		
		<input type="hidden" name="userId" th:value="${matchWrappeDto.getLoggedInUserId()}">
	</form>
	
	<div th:if="${errorDto != null}">
		<h2 th:if="${errorDto.getCode() == 0}" style="color:Tomato;">Nem belépett felhasználó, próbáld újra</h2>
	</div>
</body>
</html>